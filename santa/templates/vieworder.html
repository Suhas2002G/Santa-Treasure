{% extends 'adminbase.html' %}
{% load static %}
{% block 'main' %}

<div class="order-container">
    <div class="customer-details">
      <h2>Customer Details</h2>
      {% for i in data %}
      <div class="customer-info">
        <p><strong>Name:</strong> {{ i.uid.first_name }}</p>
        <p><strong>Email:</strong> {{ i.uid.email }}</p>
        <p><strong>Phone:</strong> {{ i.aid.phone }}</p>
      </div>
    </div>

    <div class="order-details">
      <h2>Ordered Products</h2>
      <table class="order-table">
        <thead>
          <tr>
            <th>Product ID</th>
            <th>Product</th>
            <th>Quantity</th>
            <th>Price</th>
          </tr>
        </thead>
        <tbody>
          <!-- {% for i in data %} -->
            <tr>
              <td>{{i.pid.id}}</td>
              <td>{{i.pid.name}}</td>
              <td>{{i.qty}}</td>
              <td>{{i.totalamt}}</td>
            </tr>
          <!-- {% endfor %} -->
        </tbody>
      </table>
    </div>

    <div class="delivery-address">
      <h2>Delivery Address</h2>
      <p><strong>Address:</strong>{{ i.aid.street_address}}</p>
      <p><strong>City:</strong>{{ i.aid.city }} {{ i.aid.state }}</p>
      <p><strong>Postal Code:</strong>  {{ i.aid.postal_code }}</p>
{% endfor %}
      <!-- Embedded Google Map -->
      <div class="map-container">
        <iframe 
          src="https://www.google.com/maps/embed/v1/place?key=YOUR_API_KEY&q={{ order.delivery_address|urlencode }}" 
          width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
      </div>
    </div>
  </div>


{% endblock 'main' %}